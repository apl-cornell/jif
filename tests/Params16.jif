import jif.runtime.Runtime;
import java.io.PrintStream;


class Params16[label L, label M] extends D[{L;M}] {
    int{L} f = 6;
    int{M} g = 6;

    public static void main{}(principal{} pp, String[]{} args)
        throws (SecurityException) {
        Runtime[pp] runtime = Runtime[pp].getRuntime();
	PrintStream[{pp:; L; M}] out = null;
        try {
            out = runtime.stdout(new label{pp:; L; M});
	    Params16[L,M] o = new Params16[L,M]();
	    if (o instanceof Params16[M, L]) { // attempt to leak things by swapping the labels. will be false.
		if (out != null) out.println("failure! ");
		try {
		    Params16[M,L] that = (Params16[M,L])o; 
		    o.f = that.g; // bad!
		}
		catch (ClassCastException impossible) {}
	    }
	    else {
		if (out != null) out.println("success! ");
	    }	    
	}
	catch (NullPointerException ignored) { }
    }
	
}

class D[label N] {
}
